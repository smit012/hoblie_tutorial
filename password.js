const kits = {


     pichwai: {
     title: "MEET PICHWAI",
     password: "pichwai", // user still types this
     image: "https://cdn.shopify.com/s/files/1/0739/8781/7689/files/Pichwai_Listing_images_2.png?v=1760507997",
     redirect: "guide/guide.html?kit=pichwai",
     bg: "#86d1d4"
        }, 

    boho: {
    title: "MEET BOHO",
    password: "boho",
    image: "https://cdn.shopify.com/s/files/1/0739/8781/7689/files/The_best_DIY_Kit_for_Adults.png?v=1765779385",
    redirect: "boho-guide.html",
    bg: "#8ac86a"
    },

    madhubani: {
    title: "MEET MADHUBANI",
    password: "madhubani",
    image: "https://cdn.shopify.com/s/files/1/0739/8781/7689/files/Madhubani_Listing_images_3.png?v=1760507914",
    redirect: "madhubani-guide.html",   
    bg: "#f8df61"
    },

    
  pourseafoam:{
    title: "Meet Your Seafoam Swirls Kit",
    password: "pourfect",
    image: "https://cdn.shopify.com/s/files/1/0739/8781/7689/files/Fluid_Art_Coasters.png?v=1759133425",
    redirect: "guide/guide.html?kit=pourseafoam",
    bg: "#f8df61"
    },

       
  poursunset:{
    title: "Meet Your Sunset Swirls Kit",
    password: "sunnyflow",
    image: "https://cdn.shopify.com/s/files/1/0739/8781/7689/files/fluid_art_coaster.png?v=1759396228",
    redirect: "guide/guide.html?kit=poursunset",
    bg: "#fba922"
    },


  pourmetallic:{
    title: "Meet Your Metallic Swirls Kit",
    password: "shinydrip",
    image: "https://cdn.shopify.com/s/files/1/0739/8781/7689/files/Pour_painting_coasters_kit.png?v=1759311728",
    redirect: "guide/guide.html?kit=pourmetallic",
    bg: "#f16c90"
     }, 

    metallic: {
    title: "MEET METALLIC MARBLES",
    password: "metallic",
    image: "https://cdn.shopify.com/s/files/1/0739/8781/7689/files/Pour_painting_coasters_kit.png?v=1759311728",
    redirect: "guide/guide.html?kit=shinydrip",
    bg: "#f16c90"
    },

    sunset: {
    title: "MEET SUNSET SPLENDOUR",
    password: "sunset",
    image: "https://cdn.shopify.com/s/files/1/0739/8781/7689/files/fluid_art_coaster.png?v=1759396228",
    redirect: "guide/guide.html?kit=sunset",
    bg: "#fba922"
  },

   coffee: {
    title: "MEET COFFEE",
    password: "coffee",
    image: "https://cdn.shopify.com/s/files/1/0739/8781/7689/files/coffee.png?v=1749292104",
    redirect: "coffee-guide.html",
    bg: "#f16c90"
  },

    musical: {
    title: "MEET MUSICAL CHORDS",
    password: "musical",
    image: "https://cdn.shopify.com/s/files/1/0739/8781/7689/files/HOBLIEproductimage-08.webp?v=1746772872",
    redirect: "musical-guide.html",
    bg: "#f8df61"
  },

    beach: {
    title: "MEET BEACH WAVES",
    password: "beach",
    image: "https://cdn.shopify.com/s/files/1/0739/8781/7689/files/waves.png?v=1749292938",
    redirect: "beach-guide.html",
    bg: "#86d1d4"
  },

    yinyang: {
    title: "MEET YIN YANG", 
    password: "yinyang",
    image: "https://cdn.shopify.com/s/files/1/0739/8781/7689/files/yingyang_42ccfddf-1333-4786-8ab1-9e2e8c5f5e39.png?v=1749295110",
    redirect: "yinyang-guide.html",
    bg: "#f16c90"
  },

    evileye: {
    title: "MEET EVIL EYE",
    password: "evileye",
    image: "https://cdn.shopify.com/s/files/1/0739/8781/7689/files/evileye.png?v=1749295052",
    redirect: "evileye-guide.html",
    bg: "#8ac86a"
  },

    heartfullayers: {
    title: "MEET HEARTFUL LAYERS",
    password: "heartful",
    image: "https://cdn.shopify.com/s/files/1/0739/8781/7689/files/heart.png?v=1749294923",
    redirect: "heartfullayers-guide.html",
    bg: "#86d1d4"
  },

    catinspired: {
    title: "MEET CAT-INSPIRED",
    password: "cat",
    image: "https://cdn.shopify.com/s/files/1/0739/8781/7689/files/cat.jpg?v=1749294002",
    redirect: "catinspired-guide.html",
    bg: "#f8df61"
  },

    abstractpattern: {
    title: "MEET ABSTRACT PATTERN",
    password: "abstract",
    image: "https://cdn.shopify.com/s/files/1/0739/8781/7689/files/pattern.jpg?v=1749293727",
    redirect: "abstractpattern-guide.html",
    bg: "#8ac86a"
  },

    summertheme: {
    title: "MEET SUMMER THEME",
    password: "summer",
    image: "https://cdn.shopify.com/s/files/1/0739/8781/7689/files/summer.jpg?v=1749293453",
    redirect: "summertheme-guide.html",
    bg: "#86d1d4"
  },

    ovalsofawe: {
    title: "MEET OVALS OF AWE",
    password: "ovals",
    image: "https://cdn.shopify.com/s/files/1/0739/8781/7689/files/HoblieWebsiteListingimages-06.jpg?v=1747812662",
    redirect: "ovalsofawe-guide.html",
    bg: "#8ac86a"
  },

    cutelittlecorners: {
    title: "MEET CUTE LITTLE CORNERS",
    password: "corners",
    image: "https://cdn.shopify.com/s/files/1/0739/8781/7689/files/HOBLIEproductimage-06.webp?v=1746771971",
    redirect: "cutelittlecorners-guide.html",
    bg: "#fba922"
  },

    minimoodmirrors: {
    title: "MEET MINI MOOD MIRRORS",
    password: "minimood",
    image: "https://cdn.shopify.com/s/files/1/0739/8781/7689/files/HoblieWebsiteListingimages-01.jpg?v=1747812536",
    redirect: "minimoodmirrors-guide.html",
    bg: "#86d1d4"
  },

    perfectlyframedyou: {
    title: "MEET PERFECTLY FRAMED YOU",
    password: "perfectly",
    image: "https://cdn.shopify.com/s/files/1/0739/8781/7689/files/Hoblie_Website_Big_Mirror_Listing_images-11.jpg?v=1747812164",
    redirect: "perfectlyframedyou-guide.html",
    bg: "#8ac86a"
  },

    reflectionsinline: {
    title: "MEET REFLECTIONS IN LINE",
    password: "reflections",    
    image: "https://cdn.shopify.com/s/files/1/0739/8781/7689/files/HoblieWebsiteBigMirrorListingimages-06.jpg?v=1747811942",
    redirect: "reflectionsinline-guide.html",
    bg: "#86d1d4"
  },    
  
    rounditup: {
    title: "MEET ROUND IT UP",
    password: "round",
    image: "https://cdn.shopify.com/s/files/1/0739/8781/7689/files/HoblieWebsiteBigMirrorListingimages-01.jpg?v=1747811634",
    redirect: "rounditup-guide.html",
    bg: "#f8df61"
  },

  seaform: {
    title: "MEET SEAFOAM",
    password: "seafoam",    
    image: "https://cdn.shopify.com/s/files/1/0739/8781/7689/files/Fluid_Art_Coasters.png?v=1759133425",
    redirect: "guide/guide.html?kit=seaform",
    bg: "#f8df61"
    },

  power:{
    title: "MEET GIRL POWER",
    password: "power",
    image: "https://cdn.shopify.com/s/files/1/0739/8781/7689/files/vc_Now_Hoblie_3.png?v=1765436522",
    redirect: "guide/guide.html?kit=power",
    bg: "#fea3b8"
  }


  // slug:{
  //   title: "title here",
  //   password: "password here",
  //   image: "image link here",
  //   redirect: "guide/guide.html?kit=slug",
  //   bg: "#color here"
  // }

};


const params = new URLSearchParams(window.location.search);
const kitKey = params.get("kit");
const kit = kits[kitKey];

if (!kit) {
  document.body.innerHTML = "<h2 style='text-align:center'>Invalid kit</h2>";
  throw new Error("Invalid kit");
}

/* =========================
   APPLY KIT CONTENT
========================= */

document.getElementById("kitTitle").innerText = kit.title;
document.getElementById("kitImage").src = kit.image;
document.getElementById("passwordPage").style.background = kit.bg;

/* =========================
   PASSWORD CHECK
========================= */

function checkPassword() {
  const input = document.getElementById("passwordInput").value.trim().toLowerCase();
  const error = document.getElementById("errorMsg");

  if (input === kit.password) {
    error.style.display = "none";
    showEmailPopup();
  } else {
    error.style.display = "block";
  }
}

function showEmailPopup() {
  const popup = document.getElementById("emailPopup");
  if (popup) {
    popup.style.display = "flex";
  }
}

/* =========================
   EMAIL POPUP
========================= */
function submitEmail() {
  const email = document.getElementById("emailInput").value.trim();
  const error = document.getElementById("emailError");


  // BASIC EMAIL VALIDATION

  // if (!email.endsWith("@gmail.com")) {
  //   error.style.display = "block";
  //   return;
  // }

  if (email.trim() === "") {
  error.style.display = "block";
  error.innerText = "Please enter your email..";
  return;
}
  error.style.display = "none";

  // âœ… SAVE EMAIL FOR POLLS + REVIEWS
  localStorage.setItem("hoblie_email", email);

  const formData = new FormData();
  formData.append("type", "email");
  formData.append("email", email);
  formData.append("kit", kitKey.toLowerCase());

  fetch("https://script.google.com/macros/s/AKfycbx5-uexbnTrfwTAAahumOlbi1ip_mRPvEOKdVdUTEfFar8UK3afjxg5AaJdDsGCz9Yq/exec", {
    method: "POST",
    body: formData
  }).catch(() => {});

  document.getElementById("emailPopup").style.display = "none";
  window.location.href = kit.redirect;
}

